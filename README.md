git練習
===
<!-- toc --><!-- markdown-toc start - Don't edit this section. Run M-x markdown-toc-refresh-toc -->
**Table of Contents**

- [git練習](#git)
- [1.知らなかったコマンド](#1)
  - [1.1.使いそうなコマンド](#11)
  - [1.2.あんまり使わなさそうなコマンド](#12)
- [2.メモ](#2)

<!-- markdown-toc end -->

# 1.知らなかったコマンド
## 1.1.使いそうなコマンド
| No. | コマンド                                            | 説明                                                                     |
|----:|:----------------------------------------------------|:-------------------------------------------------------------------------|
|   1 | git ls-files                                        | ステージングエリアのファイルを表示                                       |
|   2 | git rm `--cached` <file名>                          | ステージングエリアから削除. ワークツリーには残ったまま                   |
|   3 | git merge <ブランチ名>                              | 現在いるブランチに指定したブランチをマージする                           |
|   4 | git branch `-d` <ブランチ名>                        | 指定したブランチを削除する                                               |
|   5 | git push origin -d <ブランチ名>                     | 指定したリモートのブランチを削除する                                     |
|   6 | git checkout <コミット番号>                         | 指定したコミットが完了した状態まで戻す(HEADを動かす)                     |
|   7 | git checkout <コミット番号> `--` <ファイル名>       | HEADは動かさず, 指定したファイルの状態を指定したコミット時点のものにする |
|   8 | git revert <コミット番号>                           | 指定したcommitを打ち消すcommitを追加する                                 |
|   9 | git log `--oneline`                                 | sha1ハッシュ値とコミットメッセージだけを表示する                         |
|  10 | git log `--graph`                                   | コミット履歴を分かりやすく表示する                                       |
|  11 | git tag -n                                          | タグの一覧を表示する                                                     |
|  12 | git tag <tag名>                                     | HEADが指すコミットにタグを付ける                                         |
|  13 | git tag <tag名> <コミット番号>                      | 指定したコミットにタグを付ける                                           |
|  14 | git tag `-a` <tag名> -m <メッセージ> <コミット番号> | 指定したコミットに`注釈付き`タグを付ける                                 |
|  15 | git stash                                           | ワークツリーの変更をstashに退避する                                      |
|  16 | git stash list                                      | stashの中身を表示する                                                    |
|  17 | git stash pop                                       | stashの中身を取り出す                                                    |









## 1.2.あんまり使わなさそうなコマンド

| No. | コマンド                                  | 説明                                                                                                 |
|----:|:------------------------------------------|:-----------------------------------------------------------------------------------------------------|
|   1 | git commit `-a` -m "xxx"                  | add と commit を一括で実行                                                                           |
|   2 | git add `-u`                              | すでにステージングに登録されているファイルをステージングへ                                           |
|   3 | git branch `-m` <変更前> <変更後>         | ブランチ名を変更する                                                                                 |
|   4 | git branch `-D` <ブランチ名>              | 指定したブランチを削除する(マージされているcommitが残っている場合も削除可能)                         |
|   5 | git checkout `-b` <ブランチ名>            | ブランチの作成とcheckoutを一括で行う                                                                 |
|   6 | git reset `--hard` <コミット番号>         | 指定したコミットにHEADと`ブランチ`を移動する(`ワークツリーとステージングエリアにHEADの内容をコピー`) |
|   7 | git reset `--soft` <コミット番号>         | 指定したコミットにHEADと`ブランチ`を移動する(ワークツリーとステージングエリアの状態はそのまま)       |
|   8 | git reset <コミット番号>                  | 指定したコミットにHEADと`ブランチ`を移動する(`ステージングエリアにHEADの内容をコピー`)               |
|   9 | git merge `--no-ff` <ブランチ名>          | fast-forwardマージできる場合でも3-wayマージを行う                                                    |
|  10 | git branch <ブランチ名> <SHA-1ハッシュ値> | コミットを指定してブランチを作成する                                                                 |



# 2.メモ
- 共同作業においてcommit履歴の削除は危険なので `git reset` ではなく `git revert` の方が使われる. さらにrevertだと"削除したこと"をcommit履歴として残すことができる. 
- detached HEAD: HEADがどのブランチも指していない状態. この状態でcommitをしてもブランチを伸ばせない. 
- `~`はHEADの何個前の親かを表す
  - `HEAD~1` : HEADの親
  - `HEAD~2` : HEADの親の親
- `^`は何番目の親かを表す
  - `HEAD^` : HEADの親
  - `HEAD^^` : HEAD^の親
  - `HEAD^^2` : HEAD^の2番目の親
  




